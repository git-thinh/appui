<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <script type="text/javascript">
        //file:///G:/appui/index.html

        function load(url, type) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url, false);
            xhr.send(null);
            if (type == 'text') return xhr.responseText;
            return JSON.parse(xhr.responseText);
        }

        var CHANNEL_MESSAGE, API;

        CHANNEL_MESSAGE = new MessageChannel();

        //var apiJS = load('https://raw.githubusercontent.com/git-thinh/appui/master/api.js', 'text');
        var apiJS = load('http://localhost:60000/api.js', 'text');
        var blob = new Blob([apiJS]);
        var blobURL = window.URL.createObjectURL(blob);

        API = new Worker(blobURL);
        API.postMessage('CONNECT', [CHANNEL_MESSAGE.port1]);

    </script>
</head>
<body>
</body>
</html>